import java.util.Random;
import javax.swing.JOptionPane;
import java.util.Scanner;

public class MontyHall {
	
	Door d1;
	Door d2;
	Door d3;
	
	public MontyHall(){
		//Initialize class variables
		d1 = new Door('A');
		d2 = new Door('B');
		d3 = new Door('C');
		
	}
	
	public void runGames(int numberOfGames, boolean commandLine){
 		Statistics stats = new Statistics();
 		Scanner userInput = new Scanner(System.in);
 	
 		
 		if(commandLine == true) {
			System.out.println(stats.toString());
			
			
		} else {
			JOptionPane.showMessageDialog (null,stats.toString(), "Enter a valid input: ", JOptionPane.INFORMATION_MESSAGE);
		}
 
	}
	
	
	public void oneGame(){
		
		d1.reset();
		d2.reset();
		d3.reset();
		
		Door prizeDoor = pickADoor();
		Door playerDoor = pickADoor();
		Door hostDoor  = openOtherDoor(prizeDoor,playerDoor);
		
		System.out.println("The prize was behind " + prizeDoor.doorName);
		System.out.println("The player selected " + playerDoor.doorName);
		System.out.println("The host opened " + hostDoor.doorName);
		
		if(playerDoor != prizeDoor) {
			System.out.println("Switching strategy would have won");
		}
		else {
			System.out.println("Switching strategy would have lost");
		}
	}
	private Door pickADoor(){
		
		Random randomDoor = new Random();
		
		if(randomDoor.nextInt(3) == 0){
			return d1;
		} else if(randomDoor.nextInt(3) == 1) {
			return d2;
		}else {
			return d3;
		}
	}
	
	private Door openOtherDoor(Door prizeDoor, Door selectedDoor) {
		Door randomizedDoor;
		do {
			randomizedDoor = pickADoor();
		} while (randomizedDoor == prizeDoor || randomizedDoor == selectedDoor);
		
		return randomizedDoor;
	}
	
	public static void main(String[] args) {
		MontyHall montyHall;
		int numberOfGames;
		boolean commandLine = false;
		
		if (args.length == 1) {
			numberOfGames = Integer.parseInt(args[0]);
			commandLine = true;
		} else {
			numberOfGames = Integer.parseInt(JOptionPane.showInputDialog("Input the number of games to play", "1000"));
		}
		StudentInfo.main(args);
		montyHall = new MontyHall();		
		montyHall.oneGame();
	}
}
